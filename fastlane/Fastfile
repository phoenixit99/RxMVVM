# default_platform(:ios)
#
# platform :ios do
#
#
# end
# lane :beta do
#   build_app(
#     export_method: "app-store",
#     export_options: {
#       provisioningProfiles: {
#         "com.example.bundleid" => "Provisioning Profile Name",
#         "com.example.bundleid2" => "Provisioning Profile Name 2"
#       }
#     }
#   )
# end
default_platform(:ios)

platform :ios do
  desc "Test distribution "
lane :release do
  # Providing the xcodeproj is optional
  increment_build_number(xcodeproj: "RxMVVM.xcosync_code_signingdeproj")
  # Commit the version bump
  clean_build_artifacts
  commit_version_bump(xcodeproj: "RxMVVM.xcodeproj")
  push_to_git_remote(
    remote: "origin",         # optional, default: "origin"
    local_branch: "develop",  # optional, aliased by "branch", default is set to current branch
    remote_branch: "develop", # optional, default is set to local_branch
    force: true,    # optional, default: false
    force_with_lease: true,   # optional, default: false
    tags: false,    # optional, default: true
    no_verify: true,# optional, default: false
    set_upstream: true        # optional, default: false
  )
  sync_code_signing
  enable_automatic_code_signing(path: "RxMVVM.xcodeproj")
  build_app(scheme: "RxMVVM")
  hockey(api_token: "[9de01f054ce092ef372fa63bc7aab84f9f0588e4]")
end
end
